!function(e){function t(t){for(var r,i,c=t[0],u=t[1],l=t[2],d=0,m=[];d<c.length;d++)i=c[d],Object.prototype.hasOwnProperty.call(a,i)&&a[i]&&m.push(a[i][0]),a[i]=0;for(r in u)Object.prototype.hasOwnProperty.call(u,r)&&(e[r]=u[r]);for(s&&s(t);m.length;)m.shift()();return o.push.apply(o,l||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],r=!0,c=1;c<n.length;c++){var u=n[c];0!==a[u]&&(r=!1)}r&&(o.splice(t--,1),e=i(i.s=n[0]))}return e}var r={},a={0:0},o=[];function i(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=r,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="";var c=window.webpackJsonp=window.webpackJsonp||[],u=c.push.bind(c);c.push=t,c=c.slice();for(var l=0;l<c.length;l++)t(c[l]);var s=u;o.push([151,1]),n()}({145:function(e){e.exports=JSON.parse('{"mainImage":{"imageData":{"date":"","url":"","explanation":"","title":"","mediaType":""},"todayData":{"date":"","url":"","explanation":"","title":"","mediaType":""}},"imageCatalog":{"items":[],"itemsForOneIteration":[],"date":{"startDateValue":null,"endDateValue":null},"itemsCounterForOneIteration":0,"loader":true},"modalWindow":{"modalWindowState":false,"modalWindowTitle":null,"modalWindowMainData":null,"modalWindowDate":null,"modalWindowExplanation":null},"preloader":{"itemsCounterForPreloader":0}}')},151:function(e,t,n){n(152),e.exports=n(359)},346:function(e,t,n){},347:function(e,t,n){},348:function(e,t,n){},349:function(e,t,n){},350:function(e,t,n){},353:function(e,t,n){},354:function(e,t,n){},355:function(e,t,n){},357:function(e,t,n){},358:function(e,t,n){},359:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(31),i=n(16),c=n(55),u={SET_TODAY_DATA:"SET_TODAY_DATA",CHANGE_MAIN_IMAGE:"CHANGE_MAIN_IMAGE",LOAD_IMAGES_TO_IMAGE_CATALOG:"LOAD_IMAGE_TO_IMAGE_CATALOG",LOAD_IMAGES_FOR_ONE_ITERATION_TO_IMAGE_CATALOG:"LOAD_IMAGE_FOR_ONE_ITERATION_TO_IMAGE_CATALOG",CHANGE_DATA_INTERVAL_IN_IMAGE_CATALOG:"CHANGE_DATA_INTERVAL_IN_IMAGE_CATALOG",ITEMS_COUNTER_FOR_ONE_ITERATION:"ITEMS_COUNTER_FOR_ONE_ITERATION",LOADER_IN_IMAGE_CATALOG:"LOADER_IN_IMAGE_CATALOG",SET_STATE_FOR_MODAL_WINDOW:"SET_STATE_FOR_MODAL_WINDOW",SET_TITLE_FOR_MODAL_WINDOW:"SET_TITLE_FOR_MODAL_WINDOW",SET_MAIN_DATA_FOR_MODAL_WINDOW:"SET_MAIN_DATA_FOR_MODAL_WINDOW",SET_DATE_FOR_MODAL_WINDOW:"SET_DATE_FOR_MODAL_WINDOW",SET_EXPLANATION_FOR_MODAL_WINDOW:"SET_EXPLANATION_FOR_MODAL_WINDOW",UPDATE_ITEM_COUNTER_FOR_PRELOADER:"UPDATE_ITEM_COUNTER_FOR_PRELOADER"};function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){d(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case u.SET_TODAY_DATA:return s({},e,{todayData:{date:t.date,url:t.url,explanation:t.explanation,title:t.title,mediaType:t.mediaType}});case u.CHANGE_MAIN_IMAGE:return s({},e,{imageData:{date:t.date,url:t.url,explanation:t.explanation,title:t.title,mediaType:t.mediaType}});default:return e}};function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(Object(n),!0).forEach((function(t){E(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var O=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case u.LOAD_IMAGES_TO_IMAGE_CATALOG:return f({},e,{items:t.items});case u.LOAD_IMAGES_FOR_ONE_ITERATION_TO_IMAGE_CATALOG:return f({},e,{itemsForOneIteration:t.items});case u.CHANGE_DATA_INTERVAL_IN_IMAGE_CATALOG:return f({},e,{date:{startDateValue:t.startDateValue,endDateValue:t.endDateValue}});case u.ITEMS_COUNTER_FOR_ONE_ITERATION:return f({},e,{itemsCounterForOneIteration:t.counter});case u.LOADER_IN_IMAGE_CATALOG:return f({},e,{loader:t.loader});default:return e}};function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function A(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){T(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function T(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case u.SET_STATE_FOR_MODAL_WINDOW:return A({},e,{modalWindowState:t.state});case u.SET_TITLE_FOR_MODAL_WINDOW:return A({},e,{modalWindowTitle:t.title});case u.SET_MAIN_DATA_FOR_MODAL_WINDOW:return A({},e,{modalWindowMainData:t.mainData});case u.SET_DATE_FOR_MODAL_WINDOW:return A({},e,{modalWindowDate:t.date});case u.SET_EXPLANATION_FOR_MODAL_WINDOW:return A({},e,{modalWindowExplanation:t.explanation});default:return e}};function I(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?I(Object(n),!0).forEach((function(t){D(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):I(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function D(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case u.UPDATE_ITEM_COUNTER_FOR_PRELOADER:return g({},e,{itemsCounterForPreloader:t.counter});default:return e}},v=Object(c.b)({mainImage:m,imageCatalog:O,modalWindow:y,preloader:b}),w=n(145),S=Object(c.c)(v,w),N=n(2),h=n.n(N),M=function(e){return{type:u.SET_STATE_FOR_MODAL_WINDOW,state:e}},L=function(e){return{type:u.SET_TITLE_FOR_MODAL_WINDOW,title:e}},j=function(e){return{type:u.SET_MAIN_DATA_FOR_MODAL_WINDOW,mainData:e}},R=function(e){return{type:u.SET_DATE_FOR_MODAL_WINDOW,date:e}},F=function(e){return{type:u.SET_EXPLANATION_FOR_MODAL_WINDOW,explanation:e}},P=function(e){return{type:u.UPDATE_ITEM_COUNTER_FOR_PRELOADER,counter:e}},W={NASA_QUERY:"https://api.nasa.gov/planetary/apod",NASA_API_KEY:"3zbRNQCuSrdOsHV2LsGKVGzEPuecszavgkAo7mYo",NASA_API_KEY_STRING:"api_key",NASA_TARGET_DATE_STRING:"date",NASA_START_DATE_STRING:"start_date",NASA_END_DATE_STRING:"end_date",MEDIA_TYPE_IMAGE:"image",MEDIA_TYPE_VIDEO:"video",TODAY:"today",LOCAL_STORAGE_KEY:"all-data",ITEMS_ON_PAGE:24,MAIN_IMAGE_ATTRIBUTE:"main-image",CLASS_FOR_LOADED_ELEMENTS:"loading",ITEMS_ON_PAGE_WITH_FIRST_ITERATION:25},C=function(e){return e===W.TODAY},G=function(e){var t=new Image;return t.src=e,t.complete},x=function(e){e.closest(".".concat(W.CLASS_FOR_LOADED_ELEMENTS)).classList.remove(W.CLASS_FOR_LOADED_ELEMENTS)},U=Object(r.createContext)(),H=(n(346),function(e){var t=e.modalWindowShowed,n=e.setStateForModalWindow,o=e.setTitleForModalWindow,i=e.setMainDataForModalWindow,c=e.setDateForModalWindow,u=e.setExplanationForModalWindow,l=e.mainImage,s=e.todayImage,d=e.itemsFromImageCatalog,m=e.itemsCounterForPreloader,_=e.updateItemsCounterForPreloader,f=Object(r.useContext)(U),E=Object(r.useRef)();Object(r.useEffect)((function(){return G(f.url)?E.current.classList.remove(W.CLASS_FOR_LOADED_ELEMENTS):E.current.classList.add(W.CLASS_FOR_LOADED_ELEMENTS),function(){return E.current.classList.remove(W.CLASS_FOR_LOADED_ELEMENTS)}}),[f.url]);var O=function(e){return a.a.createElement("a",{href:e,target:"_blank",className:W.CLASS_FOR_LOADED_ELEMENTS},a.a.createElement("img",{className:"modal-window__main-data",src:e,onLoad:function(e){return x(e.target)}}))},p=function(){t||(!function(e){switch(e){case W.MAIN_IMAGE_ATTRIBUTE:C(l.date)?(o(s.title),i(O(s.url)),u(s.explanation),c(s.date)):(o(l.title),i(O(l.url)),u(l.explanation),c(l.date));break;default:var t=d[e];o(t.title),i(O(t.hdurl)),u(t.explanation),c(t.date)}}(f.itemCounter),n(!0))};return a.a.createElement("div",{className:"".concat(f.className,"-wrap ").concat(W.CLASS_FOR_LOADED_ELEMENTS),ref:E},a.a.createElement("img",{src:f.url,className:f.className,"data-item-counter":f.itemCounter,onClick:function(){return p()},onLoad:function(){return E.current.classList.remove(W.CLASS_FOR_LOADED_ELEMENTS),void _(++m)}}))}),B=Object(i.b)((function(e){return{modalWindowShowed:e.modalWindow.modalWindowState,mainImage:e.mainImage.imageData,todayImage:e.mainImage.todayData,itemsFromImageCatalog:e.imageCatalog.items,itemsCounterForPreloader:e.preloader.itemsCounterForPreloader}}),(function(e){return{setStateForModalWindow:function(t){e(M(t))},setTitleForModalWindow:function(t){e(L(t))},setMainDataForModalWindow:function(t){e(j(t))},setDateForModalWindow:function(t){e(R(t))},setExplanationForModalWindow:function(t){e(F(t))},updateItemsCounterForPreloader:function(t){e(P(t))}}}))((function(e){return a.a.createElement(H,e)})),Y=(n(347),function(){return a.a.createElement("div",{className:"error-component"},a.a.createElement("p",null,"No data"))}),k={YOUTUBE_BIG_THUMBNAIL:function(e){return"https://img.youtube.com/vi/".concat(e,"/maxresdefault.jpg")},YOUTUBE_MEDIUM_THUMBNAIL:function(e){return"https://img.youtube.com/vi/".concat(e,"/sddefault.jpg")},YOUTUBE_SMALL_THUMBNAIL:function(e){return"https://img.youtube.com/vi/".concat(e,"/hqdefault.jpg")},DEFAULT_THUMBNAIL_SIZE_YOUTUBE_WIDTH:120,DEFAULT_THUMBNAIL_SIZE_YOUTUBE_HEIGHT:90,VIMEO_GET_THUMBNAIL_ID:function(e){return"https://vimeo.com/api/oembed.json?url=https://vimeo.com/".concat(e)},VIMEO_GET_THUMBNAIL:function(e){return"https://i.vimeocdn.com/video/".concat(e,".jpg")}};n(348);function V(e,t,n,r,a,o,i){try{var c=e[o](i),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,a)}function K(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var J=function(e){var t=e.modalWindowShowed,n=e.setStateForModalWindow,o=e.setTitleForModalWindow,i=e.setMainDataForModalWindow,c=e.setDateForModalWindow,u=e.setExplanationForModalWindow,l=e.mainImage,s=e.todayImage,d=e.itemsFromImageCatalog,m=e.itemsCounterForPreloader,_=e.updateItemsCounterForPreloader,f=Object(r.useContext)(U),E=Object(r.useRef)(),O=/(http|https)?:\/\/(www\.)?(vimeo.com\/|player.vimeo.com\/video\/)([0-9]+)/g,p=/^((?:https?:)?\/\/)?((?:www|m)\.)?((?:youtube\.com|youtu.be))(\/(?:[\w\-]+\?v=|embed\/|v\/)?)([\w\-]+)(\S+)?$/g,A=K(Object(r.useState)(),2),T=A[0],y=A[1],I=K(Object(r.useState)(!1),2),g=I[0],D=I[1];Object(r.useEffect)((function(){v()}),[l]),Object(r.useEffect)((function(){return T&&(G(T)?E.current.classList.remove(W.CLASS_FOR_LOADED_ELEMENTS):E.current.classList.add(W.CLASS_FOR_LOADED_ELEMENTS)),function(){return E.current.classList.remove(W.CLASS_FOR_LOADED_ELEMENTS)}}),[T]);var b=function(e){return a.a.createElement("div",{className:"modal-window__iframe-wrap ".concat(W.CLASS_FOR_LOADED_ELEMENTS)},a.a.createElement("iframe",{className:"modal-window__main-data modal-window__main-data_video",src:e,onLoad:function(e){return x(e.target)}}))},v=function(){if(f.url.match(p)){var e=f.url.match(/youtube\.com.*(\?v=|\/embed\/)(.{11})/).pop();S(e)}else if(f.url.match(O)){var t=f.url.match(/vimeo.*\/(\d+)/i).pop();N(t)}else D(!0)},w=function(e,t){return e!==k.DEFAULT_THUMBNAIL_SIZE_YOUTUBE_WIDTH&&t!==k.DEFAULT_THUMBNAIL_SIZE_YOUTUBE_HEIGHT},S=function(e){var t=new Image;switch(f.itemCounter){case W.MAIN_IMAGE_ATTRIBUTE:new Promise((function(n){t.src=k.YOUTUBE_BIG_THUMBNAIL(e),t.onload=function(){w(t.naturalWidth,t.naturalHeight)?y(t.src):n()}})).then((function(){return new Promise((function(n){t.src=k.YOUTUBE_MEDIUM_THUMBNAIL(e),t.onload=function(){w(t.naturalWidth,t.naturalHeight)?y(t.src):n()}})).then((function(){t.src=k.YOUTUBE_SMALL_THUMBNAIL(e),t.onload=function(){w(t.naturalWidth,t.naturalHeight)?y(t.src):D(!0)}}))}));break;default:t.src=k.YOUTUBE_SMALL_THUMBNAIL(e),t.onload=function(){w(t.naturalWidth,t.naturalHeight)?y(t.src):D(!0)}}},N=function(){var e,t=(e=regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(k.VIMEO_GET_THUMBNAIL_ID(t)).then((function(e){return e.json()})).then((function(e){return e.thumbnail_url.match(/vimeo.*\/(\d+)/i).pop()})).then((function(e){return y(k.VIMEO_GET_THUMBNAIL(e))}));case 2:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){V(o,r,a,i,c,"next",e)}function c(e){V(o,r,a,i,c,"throw",e)}i(void 0)}))});return function(e){return t.apply(this,arguments)}}(),h=function(){t||(!function(e){switch(e){case W.MAIN_IMAGE_ATTRIBUTE:C(l.date)?(o(s.title),i(b(s.url)),u(s.explanation),c(s.date)):(o(l.title),i(b(l.url)),u(l.explanation),c(l.date));break;default:var t=d[String(e)];o(t.title),i(b(t.url)),u(t.explanation),c(t.date)}}(f.itemCounter),n(!0))};return a.a.createElement(a.a.Fragment,null,g?a.a.createElement(Y,null):a.a.createElement("div",{className:"".concat(f.className,"_video-wrap ").concat(W.CLASS_FOR_LOADED_ELEMENTS),ref:E},a.a.createElement("img",{className:"".concat(f.className," ").concat(f.className,"_video"),"data-item-counter":f.itemCounter,onClick:function(){return h()},src:T,onLoad:function(){return E.current.classList.remove(W.CLASS_FOR_LOADED_ELEMENTS),void _(++m)}})))},X=Object(i.b)((function(e){return{modalWindowShowed:e.modalWindow.modalWindowState,mainImage:e.mainImage.imageData,todayImage:e.mainImage.todayData,itemsFromImageCatalog:e.imageCatalog.items,itemsCounterForPreloader:e.preloader.itemsCounterForPreloader}}),(function(e){return{setStateForModalWindow:function(t){e(M(t))},setTitleForModalWindow:function(t){e(L(t))},setMainDataForModalWindow:function(t){e(j(t))},setDateForModalWindow:function(t){e(R(t))},setExplanationForModalWindow:function(t){e(F(t))},updateItemsCounterForPreloader:function(t){e(P(t))}}}))((function(e){return a.a.createElement(J,e)})),Z=function(e){switch(e.mediaType){case W.MEDIA_TYPE_IMAGE:return a.a.createElement(B,null);case W.MEDIA_TYPE_VIDEO:return a.a.createElement(X,null);default:return a.a.createElement(Y,null)}};Z.propTypes={mediaType:h.a.string};var z=Z,Q=(n(349),function(){return document.body.style.overflow="hidden",a.a.createElement("section",{className:"application-error"},a.a.createElement("div",{className:"application-error__items-wrap"},a.a.createElement("h2",{className:"application-error__header"},"Some troubles"),a.a.createElement("h2",{className:"application-error__header"},"Please, try again later"),a.a.createElement("button",{className:"application-error__reload-button",onClick:function(){return location.reload()}},"Reload page")))}),$=function(e){return localStorage.getItem(e)},q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r="".concat(W.NASA_API_KEY_STRING,"=").concat(W.NASA_API_KEY),a=e?"&".concat(W.NASA_TARGET_DATE_STRING,"=").concat(e):"",o=t&&n?"&".concat(W.NASA_START_DATE_STRING,"=").concat(t,"&").concat(W.NASA_END_DATE_STRING,"=").concat(n):"";return"".concat(W.NASA_QUERY,"?").concat(r).concat(a).concat(o)};n(350);function ee(e,t,n,r,a,o,i){try{var c=e[o](i),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,a)}function te(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ne(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?te(Object(n),!0).forEach((function(t){re(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):te(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function re(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ae(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var oe=function(e){var t=e.mainImage,n=e.imageData,o=e.changeImage,i=e.todayData,c=e.setTodayData,u=JSON.parse($(W.LOCAL_STORAGE_KEY)),l=Object(r.useRef)(),s=ae(Object(r.useState)(!1),2),d=s[0],m=s[1];Object(r.useEffect)((function(){return _(),l.current.addEventListener("change",f),function(){return l.current.removeEventListener("change",f)}}),[]),Object(r.useEffect)((function(){var e,r;i.date&&(i.date&&!n.date&&($(W.LOCAL_STORAGE_KEY)&&u&&Object.keys(u).length&&u.imageData.date?o(u.imageData):o(i)),n.date===i.date&&o(ne({},i,{date:W.TODAY})),e=W.LOCAL_STORAGE_KEY,r=JSON.stringify(ne({},t)),localStorage.setItem(e,r))}),[t]);var _=function(){var e,t=(e=regeneratorRuntime.mark((function e(){var t,n,r,a,i,u,l,s,d,_,f=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=f.length>0&&void 0!==f[0]?f[0]:"",e.prev=1,e.next=4,fetch(q(t));case 4:if((n=e.sent).ok){e.next=7;break}throw new Error("Some internal error");case 7:return e.next=9,n.json();case 9:r=e.sent,a=r.date,i=r.media_type,u=i===W.MEDIA_TYPE_IMAGE?r.hdurl:r.url,l=r.explanation,s=r.title,d={date:a,url:u,explanation:l,title:s,mediaType:i},t?o(d):c(d),e.next=25;break;case 19:e.prev=19,e.t0=e.catch(1),console.log("Error: ",e.t0),m(!0),_={date:t,url:null,explanation:null,title:null,mediaType:null},t?o(_):c(_);case 25:case"end":return e.stop()}}),e,null,[[1,19]])})),function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){ee(o,r,a,i,c,"next",e)}function c(e){ee(o,r,a,i,c,"throw",e)}i(void 0)}))});return function(){return t.apply(this,arguments)}}(),f=function(e){var t=e.target.value;_(t)},E={className:"main-image__image",url:C(n.date)?i.url:n.url,itemCounter:W.MAIN_IMAGE_ATTRIBUTE};return a.a.createElement(a.a.Fragment,null,d&&a.a.createElement(Q,null),a.a.createElement("section",{className:"main-image"},a.a.createElement(U.Provider,{value:E},a.a.createElement(z,{mediaType:C(n.date)?i.mediaType:n.mediaType})),a.a.createElement("h1",{className:"main-image__title"},"NASA. APOD: Astronomy Picture of the Day"),a.a.createElement("input",{className:"main-image__input",type:"date",max:i.date,value:C(n.date)?i.date:n.date||"",ref:l,onChange:function(){return o(ne({},n,{date:l.current.value}))}})))},ie=Object(i.b)((function(e){return{mainImage:e.mainImage,imageData:e.mainImage.imageData,todayData:e.mainImage.todayData}}),(function(e){return{setTodayData:function(t){e(function(e){return{type:u.SET_TODAY_DATA,date:e.date,url:e.url,explanation:e.explanation,title:e.title,mediaType:e.mediaType}}(t))},changeImage:function(t){e(function(e){return{type:u.CHANGE_MAIN_IMAGE,date:e.date,url:e.url,explanation:e.explanation,title:e.title,mediaType:e.mediaType}}(t))}}}))((function(e){return a.a.createElement(oe,e)})),ce=n(146),ue=n.n(ce),le=(n(353),function(){return a.a.createElement("div",{className:"loader-active"},a.a.createElement("div",{className:"loader-active__ellips"}),a.a.createElement("p",null,"Loading..."))}),se=function(){return a.a.createElement("div",{className:"loader-empty"},a.a.createElement("div",{className:"loader-empty__ellips"}),a.a.createElement("p",null,"Loading..."))},de=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date,t=e.getMonth()+1,n=t<10?"0".concat(t):t,r=e.getDate()<10?"0".concat(e.getDate()):e.getDate();return"".concat(e.getFullYear(),"-").concat(n,"-").concat(r)};n(354);function me(e,t,n,r,a,o,i){try{var c=e[o](i),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,a)}function _e(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function fe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var Ee=function(e){var t,n,o=e.imagesArray,i=e.loadImages,c=e.imagesArrayForOneIteration,u=e.loadImagesToOneIteration,l=e.dataInterval,s=e.changeDataInterval,d=e.itemsCounterForOneIteration,m=e.countItemsForOneIteration,_=e.loader,f=e.changeLoader,E=e.todayDate,O=fe(Object(r.useState)(!1),2),p=O[0],A=O[1];Object(r.useEffect)((function(){d<W.ITEMS_ON_PAGE&&0!==d&&(t=new Date(l.startDateValue),(n=new Date(l.startDateValue)).setDate(n.getDate()-1),t.setDate(t.getDate()-(W.ITEMS_ON_PAGE-d)),T(de(t),de(n),d),s(t,n))}),[d]),Object(r.useEffect)((function(){o.length&&f(!1)}),[o]),Object(r.useEffect)((function(){i([].concat(_e(o),_e(c)))}),[c]),Object(r.useEffect)((function(){E&&((t=new Date).setDate(t.getDate()-W.ITEMS_ON_PAGE),(n=new Date(E)).setDate(n.getDate()-1),T(de(t),de(n)),s(t,n))}),[E]);var T=function(){var e,t=(e=regeneratorRuntime.mark((function e(t,n){var r,a,o,i=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=i.length>2&&void 0!==i[2]?i[2]:0,e.prev=1,e.next=4,fetch(q(null,t,n));case 4:return a=e.sent,e.next=7,a.json();case 7:o=e.sent,u(_e(o.reverse())),m(o.length+r),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(1),console.log(e.t0),A(!0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])})),function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){me(o,r,a,i,c,"next",e)}function c(e){me(o,r,a,i,c,"throw",e)}i(void 0)}))});return function(e,n){return t.apply(this,arguments)}}(),y=function(e,t){return{className:"image-catalog__image",url:e.url,itemCounter:t}};return a.a.createElement(a.a.Fragment,null,p&&a.a.createElement(Q,null),a.a.createElement("section",{className:"image-catalog"},a.a.createElement(ue.a,{hasMore:!0,loadMore:function(){f(!0),l.startDateValue&&l.endDateValue&&(t=new Date(l.startDateValue),(n=new Date(l.startDateValue)).setDate(n.getDate()-1),t.setDate(t.getDate()-W.ITEMS_ON_PAGE),T(de(t),de(n)),s(t,n))}},a.a.createElement("ul",{className:"image-catalog__wrap"},o.map((function(e,t){return a.a.createElement("li",{key:e.date},a.a.createElement(U.Provider,{value:y(e,t)},a.a.createElement(z,{mediaType:e.media_type})))}))),_?a.a.createElement(le,null):a.a.createElement(se,null))))},Oe=Object(i.b)((function(e){return{imagesArray:e.imageCatalog.items,imagesArrayForOneIteration:e.imageCatalog.itemsForOneIteration,dataInterval:e.imageCatalog.date,itemsCounterForOneIteration:e.imageCatalog.itemsCounterForOneIteration,loader:e.imageCatalog.loader,todayDate:e.mainImage.todayData.date}}),(function(e){return{loadImages:function(t){e(function(e){return{type:u.LOAD_IMAGES_TO_IMAGE_CATALOG,items:e}}(t))},loadImagesToOneIteration:function(t){e(function(e){return{type:u.LOAD_IMAGES_FOR_ONE_ITERATION_TO_IMAGE_CATALOG,items:e}}(t))},changeDataInterval:function(t,n){e({type:u.CHANGE_DATA_INTERVAL_IN_IMAGE_CATALOG,startDateValue:t,endDateValue:n})},countItemsForOneIteration:function(t){e({type:u.ITEMS_COUNTER_FOR_ONE_ITERATION,counter:t})},changeLoader:function(t){e({type:u.LOADER_IN_IMAGE_CATALOG,loader:t})}}}))((function(e){return a.a.createElement(Ee,e)})),pe=n(362);function Ae(e){return(Ae="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Te(e,t){Te=function(e,t){return new o(e,void 0,t)};var n=Ie(RegExp),r=RegExp.prototype,a=new WeakMap;function o(e,t,r){var o=n.call(this,e,t);return a.set(o,r||a.get(e)),o}function i(e,t){var n=a.get(t);return Object.keys(n).reduce((function(t,r){return t[r]=e[n[r]],t}),Object.create(null))}return ye(o,n),o.prototype.exec=function(e){var t=r.exec.call(this,e);return t&&(t.groups=i(t,this)),t},o.prototype[Symbol.replace]=function(e,t){if("string"==typeof t){var n=a.get(this);return r[Symbol.replace].call(this,e,t.replace(/\$<([^>]+)>/g,(function(e,t){return"$"+n[t]})))}if("function"==typeof t){var o=this;return r[Symbol.replace].call(this,e,(function(){var e=[];return e.push.apply(e,arguments),"object"!==Ae(e[e.length-1])&&e.push(i(e,o)),t.apply(this,e)}))}return r[Symbol.replace].call(this,e,t)},Te.apply(this,arguments)}function ye(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&be(e,t)}function Ie(e){var t="function"==typeof Map?new Map:void 0;return(Ie=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return De(e,arguments,ve(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),be(r,e)})(e)}function ge(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function De(e,t,n){return(De=ge()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var a=new(Function.bind.apply(e,r));return n&&be(a,n.prototype),a}).apply(null,arguments)}function be(e,t){return(be=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ve(e){return(ve=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var we=function(e){return e.match(Te(/([0-9]{4})\x2D([0-9]{2})\x2D([0-9]{2})/,{year:1,month:2,day:3})).groups},Se=(n(355),function(e){var t=e.modalWindowShowed,n=e.setStateForModalWindow,r=e.modalWindowTitle,o=e.modalWindowMainData,i=e.modalWindowDate,c=e.modalWindowExplanation,u=i?we(i):{day:"",month:"",year:""};return a.a.createElement(pe.a,{dialogClassName:"modal-window",show:t,onHide:function(){return n(!1)},animation:!1},a.a.createElement(pe.a.Header,{className:"modal-window__header",closeButton:!0},a.a.createElement(pe.a.Title,null,a.a.createElement("h2",{className:"modal-window__title"},r))),a.a.createElement(pe.a.Body,{className:"modal-window__body"},o,a.a.createElement("p",null,c)),a.a.createElement(pe.a.Footer,null,a.a.createElement("p",null,"".concat(u.day,".").concat(u.month,".").concat(u.year))))}),Ne=Object(i.b)((function(e){return{modalWindowShowed:e.modalWindow.modalWindowState,modalWindowTitle:e.modalWindow.modalWindowTitle,modalWindowMainData:e.modalWindow.modalWindowMainData,modalWindowDate:e.modalWindow.modalWindowDate,modalWindowExplanation:e.modalWindow.modalWindowExplanation}}),(function(e){return{setStateForModalWindow:function(t){e(M(t))}}}))((function(e){return a.a.createElement(Se,e)})),he=(n(357),function(e){var t=e.className;return a.a.createElement("section",{className:"preloader ".concat(t)},a.a.createElement("div",{className:"preloader__content"},a.a.createElement("div",{className:"loader-circle"}),a.a.createElement("div",{className:"loader-line-mask"},a.a.createElement("div",{className:"loader-line"})),a.a.createElement("p",{className:"preloader__text"},"NASA")))}),Me=Object(i.b)((function(e){return{itemsCounterForPreloader:e.preloader.itemsCounterForPreloader}}))((function(e){var t=e.itemsCounterForPreloader;return Object(r.useEffect)((function(){10===t&&window.scroll(0,0)}),[t]),t<W.ITEMS_ON_PAGE_WITH_FIRST_ITERATION?document.body.style.overflow="hidden":document.body.removeAttribute("style"),a.a.createElement(a.a.Fragment,null,a.a.createElement(he,{className:t<W.ITEMS_ON_PAGE_WITH_FIRST_ITERATION?"":"hide"}),a.a.createElement(ie,null),a.a.createElement(Oe,null),a.a.createElement(Ne,null))}));n(358);Object(o.render)(a.a.createElement(i.a,{store:S},a.a.createElement(Me,null)),document.getElementById("app"))}});